<!DOCTYPE html>
<html>
<head>
<title>Lab 4</title>
</head>

<body>
<script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.21.7.js"></script>

<script type="text/javascript">


  var pubnubDemo = new PubNub({
  publishKey: 'pub-c-b3c83e84-5548-48ac-bb78-70aa483770db',
  subscribeKey: 'sub-c-f86566a6-6cc9-11e9-a1d6-2a8c316da507'
  });

function sendMess() {

  pubnubDemo.publish({
    message: { "color" : "blue" },
    channel: 'north'
  });

    pubnubDemo.addListener({
      message: function(message){
        console.log(message)
      }
    })

    pubnubDemo.subscribe({
    channels: ['north']
    });


}

    // Get event data
  function deviceOrientationListener(event) {
    var alpha   = event.alpha; //z axis rotation [0,360)
    var beta     = event.beta; //x axis rotation [-180, 180]
    var gamma   = event.gamma; //y axis rotation [-90, 90]


    //Check if absolute values have been sent
    if (typeof event.webkitCompassHeading !== "undefined") {
      alpha = event.webkitCompassHeading; //for iOS devices
      var heading = alpha
      document.getElementById("heading").innerHTML = heading.toFixed([0]);
    }
    else {
      alert("Your device is reporting relative alpha values, so this compass won't point north :(");
      var heading = 360 - alpha; //heading [0, 360)
      document.getElementById("heading").innerHTML = heading.toFixed([0]);
    }
  }

</script>

<p id=”heading”>hehfksdhfkjs</p>


</body>

</html>
